<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="dory-crud-routing.html">


<link rel="import" href="dory-sam-list.html">
<link rel="import" href="dory-sam-editor.html">

<link rel="import" href="dory-sam-editor-demo.html">

<!--
`dory-sam`
Polymer 1

@demo demo/index.html 
-->

<dom-module id="dory-sam">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>



        <dory-crud-routing page="{{page}}" entity-id="{{entityId}}">
            <dory-sam-list slot="list" items="[[listData]]"></dory-sam-list>
            <dory-sam-editor slot="edit" entity-id="{{entityId}}"></dory-sam-editor>
        </dory-crud-routing>


    </template>

    <script>
        Polymer({

            is: 'dory-sam',


            properties: {
                page: {
                    type: String,
                    value: 'list',
                },
                listData: {
                    type:Object,
                    value: function () {
                        var data = [];
                        var generator = function (id) {
                            var envs = ['PROD', 'QUALIF', 'REC']
                            return {
                                id: id,
                                app: 'Oura' + id,
                                env: envs[(i%envs.length)],
                                uris: [
                                    {value: 'http://uneUrlSuperLongue.pcq.desFois/onenrecontre_' + id},
                                    {value: 'http://uneAutreUrl.pcq.desFois/uneautre_' + id},
                                ],
                                servers: [
                                    {value: 'serv1 ' + id, zone: 'LAN'},
                                    {value: 'serv2 ' + id, zone: 'DMZ'},
                                ],
                                databases: [
                                    {value: 'nomDatabase'}
                                ]
                            }
                        };
                        for(var i=0;i<20;i++) {
                            data[i] = generator(i);
                        }
                        return data;
                    }
                },



            },


        });
    </script>
</dom-module>
