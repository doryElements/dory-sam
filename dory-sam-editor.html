<link rel="import" href="../polymer/polymer-element.html">

<link rel="import" href="dory-sam-editor-form.html">

<link rel="import" href="../air-cruddy/air-cruddy-elasticsearch.html">
<link rel="import" href="../app-layout/app-layout.html">
<link rel="import" href="../app-layout/app-toolbar/app-toolbar.html">

<dom-module id="dory-sam-editor">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>
        <air-cruddy id="cruddy"
                                  mode="cors"
                                  url="http://localhost:9200/sam/sam"
                                  elastic-refresh="true"
                                  data="{{data}}"
                                  credentials="include"
                                  entity-id="{{entityId}}" debug>

                    <dory-sam-editor-form id="editor-form" data="{{data}}"></dory-sam-editor-form>

        </air-cruddy>
    </template>

    <script>
        /**
         * `dory-sam-editor`
         *
         *
         * @customElement
         * @polymer
         */
        class DorySamEditor extends Polymer.Element {
            static get is() {
                return 'dory-sam-editor';
            }

            static get properties() {
                return {
                    entityId: {
                        type: String,
                        notify : true
                    },
                    data: {
                        type: Object,
                        notify: true
                    }
                };
            }

            _handleCommand(command){
                this.$.cruddy.command=command;
            }
        }
        window.customElements.define(DorySamEditor.is, DorySamEditor);
    </script>
</dom-module>
