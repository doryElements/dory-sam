<link rel="import" href="../polymer/polymer-element.html">

<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icons/device-icons.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../tags-input/tags-input.html">

<link rel="import" href="dory-sam-card-details-tab.html">

<dom-module id="dory-sam-card-details">
    <template>
        <style>
            :host {
                display: block;
                --details-label-color : #D7CCC8;
                --details-h2-color :#80CBC4;
                --details-h3-color :#FFAB40 ;
                --dory-background-color : #EFEBE9;
            }
            label{
                color: var(--details-label-color);
            }
            h2{
                color: var(--details-h2-color);
                text-align: center;
                padding : 20px;
            }
            h3{
                color: var(--details-h3-color);
            }
            .details-content{
                margin:20px;
                padding:15px;
                background-color: white;
                border-radius : 5px;
                box-shadow : 2px 2px 1px #999999;
            }
            .info{
                margin:10px;
            }
            .details{
                background-color: var(--dory-background-color);
                padding : 10px;
            }
            tags-input{
                display : inline-block;
                --tags-existing-tag: {
                    border-radius : 4px;
                    padding : 5px;
                }
            }
        </style>
        <air-cruddy-elasticsearch id="cruddy"  mode="cors" url="http://localhost:9200/sam/sam"
                                  elastic-refresh="true" debug
                                  data="{{data}}" entity-id="{{entityId}}">

            <div class="details">
                <h2>[[data.app]]</h2>
                <div class="details-content">
                    <h3>Informations</h3>

                    <div class="info">
                        <label>Nom : </label>
                        [[data.name]]
                    </div>
                    <div class="info">
                        <label>Type : </label>
                        [[data.type]]
                    </div>
                    <div class="info">
                        <label>Departement propri√©taire : </label>
                        [[data.dpt]]
                    </div>
                    <div class="info">
                        <label>Description : </label>
                        [[data.description]]
                    </div>
                    <div class="info">
                        <label>Documentation : </label>
                        [[data.doc]]
                    </div>
                    <div class="info">
                        <label>Tags : </label>
                        <tags-input no-edit tags="[[data.tags]]" ></tags-input>
                    </div>
                </div>

                <div class="details-content">
                    <h3>Environnements Disponibles</h3>
                    <paper-tabs selected="{{tabSelected}}" fit-container>
                        <paper-tab>QUALIFICATION</paper-tab>
                        <paper-tab>RECETTE</paper-tab>
                        <paper-tab>PRODUCTION</paper-tab>
                    </paper-tabs>

                    <iron-pages selected="[[tabSelected]]"  fallback-selection="fallback">
                        <dory-sam-card-details-tab data="[[data.quali]]"></dory-sam-card-details-tab>
                        <dory-sam-card-details-tab data="[[data.rec]]"></dory-sam-card-details-tab>
                        <dory-sam-card-details-tab data="[[data.prod]]"></dory-sam-card-details-tab>
                    </iron-pages>
                </div>
            </div>

        </air-cruddy-elasticsearch>
    </template>

    <script>
        /**
         * `dory-sam-card-details`
         *
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class DorySamCardDetails extends Polymer.Element {
            static get is() {
                return 'dory-sam-card-details';
            }

            static get properties() {
                return {
                    tabSelected:{
                        type: Number,
                        value : 2
                    },
                    entityId: {
                        type : String
                    }
                };
            }
        }

        window.customElements.define(DorySamCardDetails.is, DorySamCardDetails);
    </script>
</dom-module>
